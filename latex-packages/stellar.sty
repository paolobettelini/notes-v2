\ProvidesPackage{stellar}[2023/01/01 Stellar LaTeX functions]

\RequirePackage{hyperref}
\RequirePackage{xparse}
\RequirePackage{xcolor}
\RequirePackage[most]{tcolorbox}

%%%%%%%%%% Stellar commands utils %%%%%%%%%%

\ExplSyntaxOn
\DeclareDocumentCommand{\snippetref}{d[] d[]}{%
    \IfNoValueTF { #2 }
    { \href{/snippet/#1}{#1} }
    { \href{/snippet/#1}{#2} }
}
\ExplSyntaxOff

\renewcommand{\title}[1]{
    
!title #1

}

\renewcommand{\section}[1]{
    
!section #1

}

\renewcommand{\subsection}[1]{
    
!subsection #1

}

\renewcommand{\subsubsection}[1]{
    
!subsubsection #1

}

\newcommand{\genpage}{

!gen-page true

}

\newcommand{\gencourse}{

!gen-course true

}

\newcommand{\includesnpt}[1]{

!include #1

}

\newenvironment{snippet}[1]
{

!snippet #1

}
{

!endsnippet

}

%%%%%%%%%% Colored sentences commands %%%%%%%%%%
% Adapted from
% https://github.com/SeniorMars/dotfiles/blob/master/latex_template/preamble.tex

\newcommand{\customsentence}[4]{%
    \newtcbtheorem{#1}{#2}%
    {%
        theorem name, %this removes the number
        enhanced,
        breakable,
        colback = #3,
        frame hidden,
        boxrule = 0sp,
        borderline west = {2pt}{0pt}{#4},
        sharp corners,
        detach title,
        before upper = \tcbtitle\par\smallskip,
        coltitle = #4,
        fonttitle = \bfseries\sffamily,
        description font = \mdseries,
        separator sign none,
        segmentation style={solid, #4},
    }%
    {th}%
}

\definecolor{theorembg}{HTML}{F2F2F9}
\definecolor{theoremfr}{HTML}{00007B}
\definecolor{lemmabg}{HTML}{FFFAF8}
\definecolor{lemmafr}{HTML}{983b0f}
\definecolor{propositionbg}{HTML}{f2fbfc}
\definecolor{propositionfr}{HTML}{191971}
\definecolor{corollarybg}{HTML}{f9effb}
\definecolor{corollaryfr}{HTML}{a74eb4}
\definecolor{definitionbg}{HTML}{fff2f2}
\definecolor{definitionfr}{HTML}{cc0000}
\definecolor{examplebg}{HTML}{f2fbf8}
\definecolor{examplefr}{HTML}{2e8181}
\definecolor{notebg}{HTML}{e6e6e6}
\definecolor{notefr}{HTML}{6f6f6f}

\customsentence{Theorem}{Theorem}{theorembg}{theoremfr}
\customsentence{Corollary}{Corollary}{corollarybg}{corollaryfr}
\customsentence{Lemma}{Lemma}{lemmabg}{lemmafr}
\customsentence{Proposition}{Proposition}{propositionbg}{propositionfr}
\customsentence{Definition}{Definition}{definitionbg}{definitionfr}
\customsentence{Example}{Example}{examplebg}{examplefr}
\customsentence{Note}{Note}{notebg}{notefr}

\newcommand{\stheorem}[2]{\begin{Theorem}{#1}{}#2\end{Theorem}}
\newcommand{\scorollary}[2]{\begin{Corollary}{#1}{}#2\end{Corollary}}
\newcommand{\slemma}[2]{\begin{Lemma}{#1}{}#2\end{Lemma}}
\newcommand{\sproposition}[2]{\begin{Proposition}{#1}{}#2\end{Proposition}}
\newcommand{\sdefinition}[2]{\begin{Definition}{#1}{}#2\end{Definition}}
\newcommand{\sexample}[2]{\begin{Example}{#1}{}#2\end{Example}}
\newcommand{\snote}[2]{\begin{Note}{#1}{}#2\end{Note}}